import{C as D}from"./CartItem-DLjLHj-3.js";import{d as m,s as I,u as E,_ as C,c as i,a as e,w as $,g as d,v as f,F as b,r as h,f as g,b as p,e as l,h as _,i as v}from"./index-B__IqF3M.js";const B=m({components:{CartItem:D},setup(){const{cartItems:t,cartCount:u}=I(E());return{cartItems:t,cartCount:u,deleteItem:o=>{const r=t.value.find(s=>s.article===o);if(!r)return;const n=t.value.indexOf(r);t.value.splice(n,1)},clearCart:()=>{t.value=[]}}}}),S={class:"cart__container"},R={class:"cart__header"},k={class:"cart__count"},A={class:"items__container"};function y(t,u,a,c,o,r){const n=p("CartItem");return l(),i("div",S,[e("div",R,[u[1]||(u[1]=e("h1",null,"Ваша корзина",-1)),e("span",k,d(t.cartCount)+" товара",1),e("button",{type:"button",class:"cart__clear",onClick:u[0]||(u[0]=(...s)=>t.clearCart&&t.clearCart(...s))},"Очистить корзину")]),$(e("ul",A,[(l(!0),i(b,null,h(t.cartItems,s=>(l(),g(n,{item:s,key:s.article,onDeleteItem:t.deleteItem},null,8,["item","onDeleteItem"]))),128))],512),[[f,t.cartItems.length!==0]]),$(e("p",null,"Корзинка пуста!",512),[[f,t.cartItems.length===0]])])}const w=C(B,[["render",y],["__scopeId","data-v-c7ad119b"]]),F=m({setup(){const{cartCount:t,cartResultSum:u,cartItems:a}=I(E());return{cartCount:t,cartResultSum:u,sendData:()=>{const o=JSON.stringify(a.value);console.log(o)}}}}),N={class:"result__container"},V={class:"result--upper"},O={class:"result__text"},T={class:"result__text"},J={class:"result--bottom"},L={class:"result__text result__text--big"};function j(t,u,a,c,o,r){return l(),i("div",N,[e("div",V,[u[3]||(u[3]=e("h2",{class:"result__title"},"Итого",-1)),e("p",O,[u[1]||(u[1]=_("Сумма заказа ")),e("span",null,d(t.cartResultSum)+" ₽",1)]),e("p",T,[u[2]||(u[2]=_("Количество ")),e("span",null,d(t.cartCount)+" шт",1)])]),e("div",J,[e("p",L,[u[4]||(u[4]=_("Стоимость товаров ")),e("span",null,d(t.cartResultSum)+" ₽",1)]),e("button",{type:"button",class:"result__button",onClick:u[0]||(u[0]=(...n)=>t.sendData&&t.sendData(...n))},"Оплатить")])])}const q=C(F,[["render",j],["__scopeId","data-v-63399daa"]]),x=m({components:{Cart:w,Result:q}}),z={class:"cart"};function G(t,u,a,c,o,r){const n=p("Cart"),s=p("Result");return l(),i("div",z,[v(n),v(s)])}const M=C(x,[["render",G],["__scopeId","data-v-99801b4e"]]);export{M as default};
